# UrbanChain-Simple-Sales-Tool

Tech test to build a simple sales tool.

# Overview

There are three projects in the repo

- Sales Portal A react for front-end.
- NestJs for api
- A Playwright project to seperate out end to end tests.

# Setup and Run

## Prerequisites

- Node.js (v16 or higher)
- Yarn package manager
- PostgreSQL database running locally

## Getting Started (First Time Setup)

After cloning the repository, follow these steps to run all three projects in three terminals:

### 1. Backend (Sales API)

```bash
# Navigate to the API directory
cd sales-api

# Install dependencies
yarn install

# Create a .env file with your database configuration
# See .env file for required variables:
# DB_TYPE=postgres
# DB_HOST=localhost
# DB_PORT=5432
# DB_USERNAME=postgres
# DB_PASSWORD=postgres
# DB_NAME=sales

# Start the development server
yarn start:dev
```

The API will run on `http://localhost:3000`

### 2. Frontend (Sales Portal)

```bash
# Navigate to the portal directory (from root)
cd sales-portal

# Install dependencies
yarn install

# Start the development server
yarn dev
```

The portal will run on `http://localhost:5174` (or next available port)

### 3. E2E Tests (Playwright)

```bash
# Navigate to the E2E tests directory (from root)
cd sales-E2E-tests

# Install dependencies
yarn install

# Install Playwright browsers (first time only)
npx playwright install

# Make sure both API and Portal are running first!
# Then run the tests
yarn test


```

## Quick Start (Already Set Up)

If dependencies are already installed, run these commands in separate terminals:

```bash
# Terminal 1 - API
cd sales-api && yarn start:dev

# Terminal 2 - Portal
cd sales-portal && yarn dev

# Terminal 3 - E2E Tests (optional)
cd sales-E2E-tests && yarn test
```

# Teck Stack explantion

## Front End

### React Vite

I used react with vite as it is both lightweight and scalable.

#### Tanstack

I used Tanstack query to handle state as it is very easy to get going with but can scale to very large applications.

It can also help with future extensions like pagination and caching leaving us less to worry about with local states and effects.

### NestJS

I chose NestJS for the backend because it provides a robust, opinionated framework that promotes clean architecture and maintainability.

#### Why NestJS?

**Modular Architecture**

- Built-in module system that encourages separation of concerns
- Each feature (Sales, Auth) is its own module with clear boundaries
- Easy to add new features without affecting existing code
- Modules can be easily reused across different parts of the application
- Can use patterns like dependency injection which helps with unit testing

**Scalability**

- Microservices-ready architecture when needed
- Built-in support for WebSockets, GraphQL, and REST APIs
- Easy to split monolith into microservices as the application grows
- Performance optimizations with built-in caching and compression

In this project, NestJS's modular structure made it easy to separate Sales and Auth features, while dependency injection simplified testing and the TypeORM integration provided clean database access patterns.

**Personal experience**
I had been playing around with nestjs in my own time and had found it's blend of oop concepts that I was familiar with from dotnet and typescript allowed me to get going with it. It allowed me to write in the language I am most familiar with but follow the back end patterns that I have learnt.

## Signin/signup

- Signup works and connects to the back end creating users with hashed and salted passwords.
- Sign in also works and recieves a jwt token.
- UI is fairly neat and tidy

#### To improve

- The singular login page is confusing where I have left it because both sign in and sign up rely on the same form data.
- started breaking the page down into with LoginInput.tsx but it could do with a fair amount more Ie Buttons and error handling could be reusable
- There are no unit tests or end to end tests working

## Display Sales

Got a simple list of the components matching the design.
Functionality allows us to move to edit/delete page or create a sale

#### To improve/extend

- Could add pagination
- Could add search

## CreateSale

Good working UI matching
Creates Sale and matches with the api layer

#### To improve/extend

## Update and Delete

Funcitonality there but generated by llm so would need a good look over.

# Backend

All endpoints exposed
Got validation on all dtos uuis used on sales controller
Did a minimal unit test suite, mainly happy path with a few obvious errors handlesd
Also tested with APi tests from playwright
